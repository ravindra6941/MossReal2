{"ast":null,"code":"import React,{useState}from'react';import{Mail,ArrowRight,CheckCircle,AlertCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=\"\".concat(BACKEND_URL,\"/api\");const NewsletterSignup=_ref=>{let{source=\"footer\",className=\"\"}=_ref;const[email,setEmail]=useState('');const[isSubmitting,setIsSubmitting]=useState(false);const[isSubscribed,setIsSubscribed]=useState(false);const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();if(!email.trim())return;setIsSubmitting(true);setError('');try{const response=await fetch(\"\".concat(API,\"/newsletter\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,source})});const result=await response.json();if(response.ok&&result.success){setIsSubscribed(true);setEmail('');console.log('Newsletter subscription successful:',result);// Reset success state after 3 seconds\nsetTimeout(()=>{setIsSubscribed(false);},3000);}else{throw new Error(result.detail||'Failed to subscribe to newsletter');}}catch(err){console.error('Error subscribing to newsletter:',err);setError(err.message||'Failed to subscribe. Please try again.');// Clear error after 5 seconds\nsetTimeout(()=>{setError('');},5000);}finally{setIsSubmitting(false);}};if(isSubscribed){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 p-3 bg-green-500/10 border border-green-500/20 rounded-lg \".concat(className),children:[/*#__PURE__*/_jsx(CheckCircle,{size:20,className:\"text-green-400 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"p\",{className:\"body-sm text-green-400\",children:\"Successfully subscribed to newsletter!\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:className,children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"flex flex-col sm:flex-row gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(Mail,{size:16,className:\"absolute left-4 top-1/2 transform -translate-y-1/2 text-[var(--text-muted)]\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Enter your email\",className:\"input-field pl-12 w-full\",required:true,disabled:isSubmitting})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting||!email.trim(),className:\"btn-primary whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed\",children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-[var(--bg-primary)] border-t-transparent rounded-full animate-spin\"}),\"Subscribing...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Subscribe\",/*#__PURE__*/_jsx(ArrowRight,{size:16})]})})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex items-center gap-2 p-3 bg-red-500/10 border border-red-500/20 rounded-lg\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"text-red-400 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"p\",{className:\"body-sm text-red-400\",children:error})]})]});};export default NewsletterSignup;","map":{"version":3,"names":["React","useState","Mail","ArrowRight","CheckCircle","AlertCircle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","concat","NewsletterSignup","_ref","source","className","email","setEmail","isSubmitting","setIsSubmitting","isSubscribed","setIsSubscribed","error","setError","handleSubmit","e","preventDefault","trim","response","fetch","method","headers","body","JSON","stringify","result","json","ok","success","console","log","setTimeout","Error","detail","err","message","children","size","onSubmit","type","value","onChange","target","placeholder","required","disabled"],"sources":["/Users/ravindrasingh/Desktop/MossReal/frontend/src/components/NewsletterSignup.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Mail, ArrowRight, CheckCircle, AlertCircle } from 'lucide-react';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\nconst NewsletterSignup = ({ source = \"footer\", className = \"\" }) => {\n  const [email, setEmail] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isSubscribed, setIsSubscribed] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!email.trim()) return;\n\n    setIsSubmitting(true);\n    setError('');\n\n    try {\n      const response = await fetch(`${API}/newsletter`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, source }),\n      });\n\n      const result = await response.json();\n\n      if (response.ok && result.success) {\n        setIsSubscribed(true);\n        setEmail('');\n        console.log('Newsletter subscription successful:', result);\n        \n        // Reset success state after 3 seconds\n        setTimeout(() => {\n          setIsSubscribed(false);\n        }, 3000);\n      } else {\n        throw new Error(result.detail || 'Failed to subscribe to newsletter');\n      }\n    } catch (err) {\n      console.error('Error subscribing to newsletter:', err);\n      setError(err.message || 'Failed to subscribe. Please try again.');\n      \n      // Clear error after 5 seconds\n      setTimeout(() => {\n        setError('');\n      }, 5000);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (isSubscribed) {\n    return (\n      <div className={`flex items-center gap-2 p-3 bg-green-500/10 border border-green-500/20 rounded-lg ${className}`}>\n        <CheckCircle size={20} className=\"text-green-400 flex-shrink-0\" />\n        <p className=\"body-sm text-green-400\">Successfully subscribed to newsletter!</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={className}>\n      <form onSubmit={handleSubmit} className=\"flex flex-col sm:flex-row gap-3\">\n        <div className=\"flex-1 relative\">\n          <Mail size={16} className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-[var(--text-muted)]\" />\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            placeholder=\"Enter your email\"\n            className=\"input-field pl-12 w-full\"\n            required\n            disabled={isSubmitting}\n          />\n        </div>\n        <button\n          type=\"submit\"\n          disabled={isSubmitting || !email.trim()}\n          className=\"btn-primary whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {isSubmitting ? (\n            <>\n              <div className=\"w-4 h-4 border-2 border-[var(--bg-primary)] border-t-transparent rounded-full animate-spin\" />\n              Subscribing...\n            </>\n          ) : (\n            <>\n              Subscribe\n              <ArrowRight size={16} />\n            </>\n          )}\n        </button>\n      </form>\n      \n      {error && (\n        <div className=\"mt-3 flex items-center gap-2 p-3 bg-red-500/10 border border-red-500/20 rounded-lg\">\n          <AlertCircle size={16} className=\"text-red-400 flex-shrink-0\" />\n          <p className=\"body-sm text-red-400\">{error}</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default NewsletterSignup;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}